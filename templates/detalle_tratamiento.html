{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ tratamiento.nombre }} - Detalle</title>

    <!-- Enlace al CSS específico para el estilo de detalle de tratamiento -->
    <link rel="stylesheet" href="{% static 'css/detalle_tratamiento.css' %}" />
  </head>

  <body>
    <div class="container">
      <!-- Botón para regresar a la página de inicio -->
      <a href="/" class="btn btn-outline-secondary mb-4">&larr; Volver</a>

      <!-- Tarjeta contenedora del detalle completo del tratamiento -->
      <div class="card-detalle-tratamiento">
        <div class="card-detalle-tratamiento-flex">
          <!-- Wrapper de la imagen principal del tratamiento -->
          {% if tratamiento.imagen %}
          <div class="imagen-principal-wrapper">
            <img
              src="{{ tratamiento.imagen.url }}"
              alt="{{ tratamiento.nombre }}"
              class="imagen-principal"
            />
          </div>
          {% endif %}

          <!-- Contenedor de la información textual del tratamiento -->
          <div class="info-content">
            <!-- Título con degradado para destacar el nombre -->
            <h2 class="titulo-tratamiento text-gradient">
              {{ tratamiento.nombre }}
            </h2>

            <!-- Datos clave: duración y precio -->
            <p>
              <strong>Duración:</strong> {{ tratamiento.intervalo_minutos }}
              minutos
            </p>
            <p><strong>Precio:</strong> {{ tratamiento.precio }} CRC</p>

            <!-- Línea divisoria para separar secciones -->
            <hr class="divider" />

            <!-- Subtítulo de sección -->
            <h4 class="subtitulo">Descripción del tratamiento</h4>
            <!-- Descripción larga, con soporte para saltos de línea -->
            {% if tratamiento.descripcion_larga %}
            <p class="text-muted descripcion-detalle">
              {{ tratamiento.descripcion_larga|linebreaks }}
            </p>
            {% else %}
            <!-- Mensaje alternativo si no hay descripción larga -->
            <p class="text-muted">Descripción no disponible</p>
            {% endif %}

            <!-- Botón de llamada a la acción: agendar vía WhatsApp -->
            <div class="text-center mt-3">
              <a
                href="https://api.whatsapp.com/send?phone=50661786012&text=Hola%2C%20quiero%20agendar%20el%20tratamiento%20{{ tratamiento.nombre }}"
                target="_blank"
                class="btn btn-success mt-4 btn-agendar-profesional"
              >
                Agendar por WhatsApp
              </a>
            </div>
          </div>
        </div>

        <!-- Sección “Antes y Después” que solo se muestra si hay contenido secundario -->
        {% if tratamiento.descripcion_secundaria or
        tratamiento.imagen_secundaria %}
        <div class="seccion-secundaria">
          <!-- Título de la sección secundaria -->
          <h2 class="titulo-seccion-especial">Antes y Después</h2>

          <div class="descripcion-secundaria-box">
            <!-- Texto de la descripción secundaria, con linebreaks -->
            {% if tratamiento.descripcion_secundaria %}
            <p class="text-muted descripcion-detalle">
              {{ tratamiento.descripcion_secundaria|linebreaks }}
            </p>
            {% endif %}

            <!-- Imagen secundaria adicional, si existe -->
            {% if tratamiento.imagen_secundaria %}
            <div class="imagen-secundaria-wrapper">
              <img
                src="{{ tratamiento.imagen_secundaria.url }}"
                alt="Imagen adicional de {{ tratamiento.nombre }}"
                class="img-secundaria"
              />
            </div>
            {% endif %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </body>
</html>
